!function(){window.EmberTodo=Ember.Application.create()}(),function(){EmberTodo.TodoController=Ember.ObjectController.extend({actions:{editTodo:function(){this.set("isEditing",!0)},acceptChanges:function(){this.set("isEditing",!1),Ember.isEmpty(this.get("model.title"))?this.send("removeTodo"):this.get("model").save()},removeTodo:function(){var a=this.get("model");a.deleteRecord(),a.save()}},isEditing:!1,isCompleted:function(a,b){var c=this.get("model");return void 0===b?c.get("isCompleted"):(c.set("isCompleted",b),b)}.property("model.isCompleted")})}(),function(){EmberTodo.TodosController=Ember.ArrayController.extend({actions:{createTodo:function(){var a=this.get("newTitle");if(a.trim()){var b=this.store.createRecord("todo",{title:a,isCompleted:!1});this.set("newTitle",""),b.save()}},clearCompleted:function(){var a=this.filterBy("isCompleted",!0);a.invoke("deleteRecord"),a.invoke("save")}},remaining:function(){return this.filterBy("isCompleted",!1).get("length")}.property("@each.isCompleted"),inflection:function(){var a=this.get("remaining");return 1===a?"item":"items"}.property("remaining"),hasCompleted:function(){return this.get("completed")>0}.property("completed"),completed:function(){return this.filterBy("isCompleted",!0).get("length")}.property("@each.isCompleted"),allAreDone:function(a,b){return void 0===b?!!this.get("length")&&this.everyBy("isCompleted",!0):(this.setEach("isCompleted",b),this.invoke("save"),b)}.property("@each.isCompleted")})}(),function(){EmberTodo.Store=DS.Store.extend(),EmberTodo.ApplicationAdapter=DS.LSAdapter.extend({namespace:"ember-todo"})}(),function(){EmberTodo.Todo=DS.Model.extend({title:DS.attr("string"),isCompleted:DS.attr("boolean")})}(),function(){EmberTodo.ApplicationRoute=Ember.Route.extend({model:function(){return["red","yellow","blue"]}})}(),function(){EmberTodo.EditTodoView=Ember.TextField.extend({didInsertElement:function(){this.$().focus()}}),Ember.Handlebars.helper("edit-todo",EmberTodo.EditTodoView)}(),function(){EmberTodo.Router.map(function(){this.resource("todos",{path:"/"},function(){this.route("active"),this.route("completed")})}),EmberTodo.TodosRoute=Ember.Route.extend({model:function(){return this.store.find("todo")}}),EmberTodo.TodosIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("todos")}}),EmberTodo.TodosActiveRoute=Ember.Route.extend({model:function(){return this.store.filter("todo",function(a){return!a.get("isCompleted")})},renderTemplate:function(a){this.render("todos/index",{controller:a})}}),EmberTodo.TodosCompletedRoute=Ember.Route.extend({model:function(){return this.store.filter("todo",function(a){return a.get("isCompleted")})},renderTemplate:function(a){this.render("todos/index",{controller:a})}})}();